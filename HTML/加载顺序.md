## html页面各种资源的加载顺序

### 一、script的加载
1. script放在dom的前端会阻塞dom的解析，会阻塞html的渲染。如下案例等到script下载完成之后才展示页面，页面才能交互（这里体现了阻塞渲染）。
```html
<head>
  <script>
    function getDom() {
      console.log(document.querySelectorAll('h1'))
    }
    setTimeout(getDom, 100);
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"
    integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
  </script>
</head>
<body>
  <h1>html show</h1>
</body>
```

2. 外链script不会阻塞其他外链的请求。页面等到两份js都请求下载完后才开始执行，内联script也是等到两个外链下载完成后才执行。
```html
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"
    integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
  <script>console.log('inner', _)</script>// 这里已经可以访问到lodash了_
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.11/dayjs.min.js"
    integrity="sha512-FwNWaxyfy2XlEINoSnZh1JQ5TRRtGow0D6XcmAWmYCRgvqOUTnzCxPc9uF35u5ZEpirk1uhlPVA19tflhvnW1g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </script>
</head>
<body>
  <div>html show</div>
</body>
```

3. script**增加defer**，异步加载，不会阻塞页面，页面直接可交互。可持续点击button，直到lodash加载完成才能访问到`_`。
```html
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"
    integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" defer>
  </script>
</head>
<body>
  <button>Click me!!!</button>
  <script>
    const btn = document.querySelector('button');
    btn.addEventListener('click', () => {
      console.log('lodash global object', _);
    })
  </script>
</body>
```


### 二、css的加载
1. css放在dom前面不会